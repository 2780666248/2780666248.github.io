import{i as V,r as v,a as k,o as x,c as w,b as e,d as s,w as a,u as p,e as E,l as g,f as $,g as j,p as B,h as L,n as y,j as N}from"./index-DsoBdpPh.js";import{E as z,a as C,b as I}from"./el-input-I54vDAvb.js";import{E as S}from"./el-button-CZyLWNoe.js";import{E as R}from"./el-checkbox-DDNLzRDH.js";import{_ as q}from"./b_3f99551f0f0837021a3b34d84f65b022-Mwd--cNK.js";import{r as U,E as A}from"./request-DHRn8lua.js";import{u as M}from"./user-JfUW29ad.js";import{_ as T}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./constants-BRd3JUql.js";import"./castArray-j4beyqTs.js";import"./index--KPkAOGn.js";import"./config-provider-BOKV_tex.js";import"./index-jCYurZL7.js";const D=(n,l)=>U.post("/user/login",{email:n,password:l}),G=n=>{const{username:l,email:i,password:o}=n;return U.post("/user/register",{username:l,email:i,password:o})},_=n=>(B("data-v-11862eab"),n=n(),L(),n),H={class:"rounded-lg bg-white/25 backdrop-blur-sm grid grid-cols-5"},J=_(()=>e("div",{class:"flex h-full items-center justify-center col-span-2 border-r flex-col space-y-10"},[e("img",{class:"rounded-full w-1/2",src:q,alt:""}),e("h1",null,"黑马老黄")],-1)),K={class:"flex h-full items-center justify-center flex-col col-span-3 space-y-2 transition ease-in-out duration-700"},O=_(()=>e("h1",{class:"font-bold text-4xl mb-5"},"欢迎回来",-1)),P=_(()=>e("div",{class:"flex items-center space-x-2"},[e("span",{class:"h-[1px] w-16 bg-black"}),e("span",null,"账号密码登录"),e("span",{class:"h-[1px] w-16 bg-black"})],-1)),Q={class:"grid grid-cols-2"},W={class:"justify-self-start"},X={class:"space-x-1.5"},Y=_(()=>e("span",{class:"hover:underline hover:text-blue-500 hover:font-bold cursor-pointer"},"忘记密码?",-1)),Z=_(()=>e("span",null,"|",-1)),ee={__name:"LoginForm",setup(n){const l=M(),i=V("mode"),o=v(),c=k({username:"",password:""}),f=()=>{o.value=!0,D(c.username,c.password).then(t=>{l.setUserInfo(t.data),A.success("登陆成功"),j.push("/backend/index")}).finally(()=>{o.value=!1})};return(t,r)=>{const u=z,m=C,b=R,d=S,F=I;return x(),w("div",H,[J,e("div",K,[O,P,s(F,{class:"w-4/5 space-y-5",model:c,align:"center"},{default:a(()=>[s(m,{prop:"username"},{default:a(()=>[s(u,{size:"large",placeholder:"请输入用户名","prefix-icon":p(E),modelValue:c.username,"onUpdate:modelValue":r[0]||(r[0]=h=>c.username=h),clearable:""},null,8,["prefix-icon","modelValue"])]),_:1}),s(m,{prop:"password"},{default:a(()=>[s(u,{size:"large",type:"password",placeholder:"请输入密码","prefix-icon":p(g),modelValue:c.password,"onUpdate:modelValue":r[1]||(r[1]=h=>c.password=h),clearable:"","show-password":""},null,8,["prefix-icon","modelValue"])]),_:1}),e("div",Q,[e("div",W,[s(b,{label:"记住密码"})]),e("div",X,[Y,Z,e("span",{class:"hover:underline hover:text-blue-500 hover:font-bold cursor-pointer",onClick:r[2]||(r[2]=h=>i.value=!p(i))},"注册")])]),s(m,null,{default:a(()=>[s(d,{class:"w-full hover:scale-105 transition ease-in-out delay-200",size:"large",loading:o.value,type:"primary",onClick:f},{default:a(()=>[$("登录")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])])])}}},se=T(ee,[["__scopeId","data-v-11862eab"]]),oe={class:"flex items-center justify-center rounded-lg bg-white/25 backdrop-blur-sm"},le=e("h1",{class:"font-bold text-4xl mb-5"},"欢迎加入",-1),te=e("div",{class:"flex items-center justify-center space-x-2"},[e("span",{class:"h-[1px] w-16 bg-black"}),e("span",null,"注册"),e("span",{class:"h-[1px] w-16 bg-black"})],-1),ae=e("span",{class:"hover:underline hover:text-blue-500 hover:font-bold cursor-pointer"},"忘记密码?",-1),ne=e("span",null,"|",-1),re={__name:"RegisterForm",setup(n){const l=V("mode"),i=v(),o=k({username:"",password:"",email:""}),c=()=>{i.value=!0,G({from:o}).then(f=>{f.success&&j.push("/")}).finally(()=>{i.value=!1})};return(f,t)=>{const r=z,u=C,m=S,b=I;return x(),w("div",oe,[s(b,{class:"w-4/5 space-y-5",ref:"fromRef",model:o,align:"center"},{default:a(()=>[le,te,s(u,{prop:"username"},{default:a(()=>[s(r,{size:"large",placeholder:"请输入用户名","prefix-icon":p(E),modelValue:o.username,"onUpdate:modelValue":t[0]||(t[0]=d=>o.username=d),clearable:""},null,8,["prefix-icon","modelValue"])]),_:1}),s(u,{prop:"password"},{default:a(()=>[s(r,{size:"large",type:"password",placeholder:"请输入密码","prefix-icon":p(g),modelValue:o.password,"onUpdate:modelValue":t[1]||(t[1]=d=>o.password=d),clearable:"","show-password":""},null,8,["prefix-icon","modelValue"])]),_:1}),s(u,{prop:"password"},{default:a(()=>[s(r,{size:"large",placeholder:"请输入验证码","prefix-icon":p(g),modelValue:o.code,"onUpdate:modelValue":t[2]||(t[2]=d=>o.code=d),clearable:""},null,8,["prefix-icon","modelValue"])]),_:1}),e("div",null,[ae,ne,e("span",{class:"hover:underline hover:text-blue-500 hover:font-bold cursor-pointer",onClick:t[3]||(t[3]=d=>l.value=!p(l))},"登录")]),s(u,null,{default:a(()=>[s(m,{class:"w-full hover:scale-105 transition ease-in-out delay-200",size:"large",loading:i.value,type:"primary",onClick:c},{default:a(()=>[$("注册")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])])}}},ie={class:"flex h-screen items-center justify-center bg-[url('@/assets/img/bg.jpg')] bg-cover"},ye={__name:"LoginAndRegister",setup(n){const l=v(!1);return N("mode",l),(i,o)=>(x(),w("div",ie,[s(se,{class:y(["h-1/2 transition-all delay-150 ease-in-out duration-700",{"w-1/2 opacity-100":!l.value,"w-0 opacity-0":l.value}])},null,8,["class"]),s(re,{class:y(["transition-all ease-in-out duration-700",{"w-1/2 h-1/2 opacity-100":l.value,"w-0 h-0 opacity-0 delay-300":!l.value}])},null,8,["class"])]))}};export{ye as default};
